# bs-passport（鉴权模块）

鉴权模块主要是对项目的安全进行负责，包括以下功能：

- 用户信息的授权（即login接口）

- 用户信息的校验1（即currentUser接口）

- 用户信息校验2

这个接口，主要是给第三方系统进行token校验的，它接收第三方系统传递过来的token参数，
然后会检查这个token是否可以使用，如果可以使用的话，则会返回出当前token用户的账号信息。

- 用户退出登录，也就是撤销授权

JWT的授权方式会出现用户信息无法授权的问题，那么如何撤销对用户token的授权呢？

- 系统授权token管理功能

用来管理当前授权的所有token，以及对应的有效期，并且可以手动撤销token授权

- 系统redis中的token管理功能

用来管理系统redis中，保存token的这些数据，可以对redis中保存的token数据，进行增删查改

### 如何撤销已经有的授权

- 1，用户登录，用户在登录完成后，需要在redis保存当前用户生成的token，以数组的形式进行生成，
JWT进行验证的时候，要验证两次，一次是JWT是属于有效期内，如果属于有效期，
则再判断一次JWT是否存在黑名单

- 2，token服务端应该保存在哪，是保存在redis呢，还是mysql，首先，这个token是有长度的。


- 2，注销登录，用户在修改了密码之后，是需要在所有的设备，注销登录的，也就是说以前签发的一些token都不能使用。
这里看是redis还是用mysql